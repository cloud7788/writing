# Javascript로 Deep-learning 맛보기

요즘 딥러닝 또는 머신러닝을 학습한다고 하면 일단 Python부터 꺼내드는 이가 많이 늘었다. 그리고 Tensorflow든 Keras든 pyTorch든 프레임워크를 사용하면 쉽게 머신러닝 혹은 딥러닝 애플리케이션을 만들 수 있다고 이야기를 이어간다. 사실 대부분의 경우 이런 의견이 옳다는 사실에는 동의한다. 일일히 구현해야 하는 많은 기능들이 미리 준비되어 있어서 원하는 것을 빠르고 쉽게 만들수 있고, 문제가 생기더라도 웹서핑이든 커뮤니티 등을 통해 도움을 얻기도 수월하기 때문이다. 

하지만 이 글의 시작은 '왜 Python이 아니면 안되지?', '꼭 프레임워크를 써야만 하는걸까?' 라는 삐딱한 시각에서 시작했다. 그래서 쉽게 접근할 수 있는 스크립트 언어를 찾았고, 여차하면 웹브라우저 위에서 동작시켜볼 수도 있겟다는 생각에 Javascript를 선택했다. 물론 프레임워크의 도움 없이, 필요한 기능이 있다면 모두 직접 구현해 가면서 언어 기본기능만 가지고 Deep-learning 모델을 작성할 것이다. 그리고 (성능을 보장 할 수는 없지만) 간단한 예제에 대해 모델을 학습하고 평가하는 과정을 소개하고자 한다.


## 1. 시작하며

들어가기 앞서 미리 밝혀두자면, 이 글은 개발가이드 또는 업무적용사례와 같은 거창한 글이 아니다. 그렇다고 해서 CNN/RNN이나 등의 제법 유명한 인공신경망을 구현해 보자는 것 또한 아니다. 이 글에서는 먼저 단순한 수준의 MLP(Multi-Layer Perceptron)을 이용한 모델을 작성하고, 샘플 프로젝트를 통해 훈련 및 평가를 하는 것을 목표로 할 것이다. 비록 아주 거창한 개발동기와 소박한 개발목표로 시작한 작은 프로젝트지만, 스크립트 언어 하나만 가지고 Deep-learning 애플리케이션을 만들어보겟다는 용기와 패기가 가득한 도전기이자 기행문 정도로 가볍게 바라봐 줬으면 좋겠다.

앞으로 작성할 소스코드와 예제코드는 아래 Github 링크에서 볼 수 있다.

* **[dl4vanilla.js](https://github.com/ivorycirrus/dl4vanillajs)** : Javascript로 작성한 행렬연산 및 인공신경망(ANN) 작성 유틸리티
* **[dl4vanilla.js 예제](https://github.com/ivorycirrus/dl4vanillajs-node-example)** : Node.js로 실행 할 수 있는 다층퍼셉트론(MLP) 예제.

## 2. 필요한 도구를 만들자
일반적인 딥러닝 모델은 행렬연산을 통한 결과의 추정과, 이 추정한 결과가 얼마나 오류가 있는지를 가지고 모델의 변수를 업데이트하는 훈련 단계를 포함하고 있다. 모델에서의 입력값은 수치화된 행렬 형태의 데이터로 표현되어야 하며, 여기에 모델에서 가진 행렬형태의 변수와 다양한 연산과정을 거쳐 결과값을 추정한다. 그리고 이 결과 값의 오차를 계산해서, 오차가 줄어드는 방향쪽으로 모델의 변수를 업데이트를 해서 추정한 값의 정확도를 올리는 것을 복표로 한다.

따라서 과정을 구현하기 위해서는 먼저 입력값과 모델 내부의 변수값의 행렬연산을 수행하는 기능이 준비되야 할 것이다. 그리고 행렬 연산이 단순한 일차 선형결합이 되지 않도록 행렬곱 사이에 활성화함수 라는 비선형함수와의 연산을 추가해 줘야 한다. 그리고 행렬연산결과로 나온 추정값의 오차를 계산해서 오차가 줄어드는 방향을 찾아야 하며 이를 위해 수치미분을 담당할 함수가 필요할 것이다. 여기에서는 모델을 구성하기 위해 필요한 요소기능들을 먼저 작성 해 보도록 하겟다.


### 2.1 행렬 연산

### 2.2 활성화 함수

### 2.3 수치미분

## 3. 샘플 프로젝트 - XOR 문제

### 3.1 모델 정의

### 3.2 모델 학습

### 3.3 평가

## 4. 결론 및 고찰




